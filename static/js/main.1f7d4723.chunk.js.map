{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/Pencil.svg","images/plus.svg","images/Trash.svg","images/like.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","element","onCardLike","onCardDelete","onCardOpen","currentUser","useContext","card","link","name","_id","owner","likes","isLiked","some","i","isOwn","cardDeleteButtonClassName","cardLikeButtonClassName","onClick","type","Trash","like","length","Main","cards","onAddPlace","onEditProfile","onEditAvatar","onCardClick","style","backgroundImage","avatar","Pencil","about","Plus","map","PopupWithForm","props","isOpen","method","action","noValidate","onSubmit","title","children","onClose","buttonTitle","EditProfilePopup","useState","setName","info","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","value","autoComplete","minLength","maxLength","required","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","api","options","this","_url","url","_authorization","headers","authorization","_contentType","fetch","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","showPopupImage","setShowPopupImage","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getUserInformation","getInitialCards","item","setupCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","changeUserInfo","changeAvatar","addNewCards","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f7d4723.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Место\" />\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyrigth\"> &#169; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Pencil.ae1a976d.svg\";","export default __webpack_public_path__ + \"static/media/plus.bed8c136.svg\";","export default __webpack_public_path__ + \"static/media/Trash.2af49b82.svg\";","export default __webpack_public_path__ + \"static/media/like.df0c9655.svg\";","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React from \"react\";\r\nimport Trash from \"../images/Trash.svg\";\r\nimport like from \"../images/like.svg\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({element, onCardLike, onCardDelete, onCardOpen}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  const card = {\r\n  link: element.link,\r\n  name: element.name,\r\n  _id: element._id,\r\n  owner: element.owner,\r\n  likes: element.likes\r\n  }\r\n\r\n  function handleClick() {\r\n    onCardOpen(element);\r\n  }\r\n  \r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete ${isOwn ? 'element__delete_visible' : 'element__delete_hidden'}`\r\n  ); \r\n  const cardLikeButtonClassName = (\r\n    `element__like ${isLiked ? 'element__like_active' : ''}`\r\n  );\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(element)\r\n  };\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(element)\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        className=\"element__pic\"\r\n        onClick={handleClick}\r\n        src={element.link}\r\n        alt={element.name}\r\n      />\r\n      <div className=\"element__container\">\r\n        <button type=\"button\" onClick={handleDeleteClick} className={cardDeleteButtonClassName}>\r\n          <img src={Trash} alt=\"Кнопка\" />\r\n        </button>\r\n        <h2 className=\"element__title\"> {element.name} </h2>\r\n        <div className=\"element__like-zone\">\r\n          <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}>\r\n            <img src={like} alt=\"Лайк\" />\r\n          </button>\r\n          <span className=\"element__quantity-like\">\r\n            {element.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Pencil from \"../images/Pencil.svg\";\r\nimport Plus from \"../images/plus.svg\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({onCardDelete, cards, onCardLike, onAddPlace, onEditProfile, onEditAvatar, onCardClick}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__zone\"\r\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            onClick={onEditAvatar}\r\n            className=\"profile__avatar-button\"\r\n          >\r\n            <img className=\"profile__pencil-img\" alt={currentUser.name} src={Pencil} />\r\n          </button>\r\n        </div>\r\n        <div className=\"profile__info-container\">\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__info-title\"> {currentUser.name} </h1>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onEditProfile}\r\n              className=\"profile__edit-button\"\r\n            ></button>\r\n          </div>\r\n          <p className=\"profile__info-profession\"> {currentUser.about} </p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n          className=\"profile__add-button\"\r\n        >\r\n          <img className=\"profile__plus-img\" src={Plus} alt=\"Кнопка\" />\r\n        </button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"element\">\r\n          {cards.map((card, i) => (\r\n            <li className=\"element__card\" key={card._id}>\r\n              <Card \r\n              element={card} \r\n              onCardOpen={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete} />\r\n            </li> \r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`popup popup_type_${props.name} ${\r\n          props.isOpen && \"popup_is-opened\"\r\n        }`}\r\n      >\r\n        <form\r\n          name=\"popup__form\"\r\n          method=\"POST\"\r\n          action=\"#\"\r\n          className=\"popup__container\"\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          <h2 className=\"popup__title\"> {props.title} </h2> {props.children}\r\n          <button\r\n            type=\"button\"\r\n            onClick={props.onClose}\r\n            className=\"popup__close-button\"\r\n          ></button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__button\"\r\n          >\r\n            {props.buttonTitle}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [info, setDescription] = React.useState(\"\");\r\n \r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n  \r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: info,\r\n    });\r\n  } \r\n\r\n    return (\r\n            <PopupWithForm  name=\"profile\"\r\n            isOpen={props.isOpen}\r\n            title=\"Редактировать профиль\"\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle=\"Сохранить\">\r\n              <label className=\"popup__label\">\r\n                <input\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  placeholder=\"Жак-Ив Кусто\"\r\n                  value={name}\r\n                  autoComplete=\"off\"\r\n                  minLength=\"2\"\r\n                  maxLength=\"40\"\r\n                  required\r\n                  onChange={handleNameChange}\r\n                  className=\"popup__form popup__form_name_call\"\r\n                />\r\n                <span className=\"popup__error_visible\" id=\"name-error\"></span>\r\n              </label>\r\n              <label className=\"popup__label\">\r\n                <input\r\n                  name=\"info\"\r\n                  id=\"text\"\r\n                  type=\"text\"\r\n                  placeholder=\"Исследователь океана\"\r\n                  value={info}\r\n                  autoComplete=\"off\"\r\n                  minLength=\"2\"\r\n                  maxLength=\"200\"\r\n                  required\r\n                  onChange={handleDescriptionChange}\r\n                  className=\"popup__form popup__form_job\"\r\n                />\r\n                <span className=\"popup__error_visible\" id=\"text-error\"></span>\r\n              </label>\r\n            </PopupWithForm>\r\n          );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n    return (\r\n        <PopupWithForm  name=\"avatar\"\r\n        isOpen={props.isOpen}\r\n        title=\"Обновить аватар\"\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        buttonTitle=\"Сохранить\">\r\n    <label className=\"popup__label\">\r\n      <input\r\n        name=\"picture\"\r\n        type=\"url\"\r\n        id=\"link\"\r\n        ref={avatarRef}\r\n        required\r\n        placeholder=\"https://images.unsplash.com/photo-1599937749121-6d2b5063ea98?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\"\r\n        autoComplete=\"off\"\r\n        className=\"popup__form popup__apdate_picture\"\r\n      />\r\n    </label>\r\n  </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleCallChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  } \r\n\r\n    return (\r\n        <PopupWithForm\r\n        name=\"add\"\r\n        isOpen={props.isOpen}\r\n        title=\"Новое место\"\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        buttonTitle=\"Создать\">\r\n        <label className=\"popup__label\">\r\n          <input\r\n            name=\"call\"\r\n            id=\"nickname\"\r\n            type=\"text\"\r\n            required\r\n            onChange={handleCallChange}\r\n            autoComplete=\"off\"\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            value={name}\r\n            placeholder=\"Название\"\r\n            className=\"popup__form popup__form_name_title\"\r\n          />\r\n          <span className=\"popup__error_visible\" id=\"nickname-error\"></span>\r\n        </label>\r\n        <label className=\"popup__label\">\r\n          <input\r\n            name=\"link\"\r\n            id=\"url\"\r\n            type=\"url\"\r\n            required\r\n            value={link}\r\n            onChange={handleLinkChange}\r\n            autoComplete=\"off\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__form popup__form_pic_url\"\r\n          />\r\n          <span className=\"popup__error_visible\" id=\"url-error\"></span>\r\n        </label>\r\n      </PopupWithForm>\r\n    )\r\n} \r\n\r\nexport default AddPlacePopup; ","function ImagePopup(props) {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`popup popup_add_image ${props.isOpen && \"popup_is-opened\"}`}\r\n      >\r\n        <figure className=\"popup__case\">\r\n          <img\r\n            className=\"popup__pic\"\r\n            src={props.card.link}\r\n            alt={props.card.name}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={props.onClose}\r\n            className=\"popup__close-button\"\r\n          ></button>\r\n          <h3 className=\"popup__name-pic\"> {props.card.name} </h3>\r\n        </figure>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._authorization = options.headers.authorization;\r\n    this._contentType = options.headers[\"Content-type\"];\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  addNewCards({ name, link }) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n      method: isLiked ? \"PUT\": \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  changeAvatar({ avatar }) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getUserInformation() {\r\n    return fetch(`${this._url}/users/me/`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  changeUserInfo({ name, about }) {\r\n    return fetch(`${this._url}/users/me/`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n};\r\n\r\nexport  const api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-16\",\r\n  headers: {\r\n    authorization: \"344a64cf-b308-474c-8210-0f54155eeeb6\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n\r\n\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport { api } from \"../utils/Api\";\r\n\r\nexport default function App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [showPopupImage, setShowPopupImage] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({\r\n    isOpen: false,\r\n  });\r\n  const [currentUser, setCurrentUser] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setShowPopupImage(false);\r\n  }\r\n\r\n  function handleCardClick(element) {\r\n    setSelectedCard(element);\r\n    setShowPopupImage(true);\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        // Обновляем стейт\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(`Error ${err}`));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function setupCards(cards) {\r\n    setCards(\r\n      cards.map((item) => ({\r\n        _id: item._id,\r\n        link: item.link,\r\n        name: item.name,\r\n        owner: item.owner,\r\n        likes: item.likes,\r\n      }))\r\n    );\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .changeUserInfo({ name, about })\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n      .changeAvatar({ avatar })\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    api\r\n      .addNewCards({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInformation(), api.getInitialCards()])\r\n      .then((res) => {\r\n        setCurrentUser(res[0]);\r\n        setupCards(res[1]);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={showPopupImage}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}